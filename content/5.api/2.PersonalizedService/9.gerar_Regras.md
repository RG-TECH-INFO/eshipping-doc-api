---
title: Gerar Regras de Cotação
description: Endpoint para gerar regras de cotação de frete baseado em um pedido e tipo de transportadora.
icon: lucide:cpu
---

## 📌 Resumo

- **Método:** `POST`  
- **Endpoint:** `[URLBASE]/api/v1/shippingcustomtable/item/generaterules`  
- **Autenticação:** ✅ Requer token de acesso (Bearer)  
- **Categoria:** Shipping Custom Table  

---

## 📖 Descrição

Gera regras de cotação de frete com base nos dados do pedido (`DTOJson`) e no tipo de transportadora selecionado (`API` ou `TABELA`).  

::alert{type="info"}
💡 Este endpoint processa todos os produtos do pedido, calcula o frete com base na tabela personalizada ou via API de transportadora, e retorna as cotações disponíveis.
::

---

## 📝 Parâmetros do Request

| Campo        | Tipo                   | Obrigatório | Descrição                                                                 |
|--------------|-----------------------|-------------|---------------------------------------------------------------------------|
| `DTOJson`    | object                | Sim         | Objeto completo do pedido, remetente e destinatário. Estrutura detalhada abaixo. |
| `typeCarrier`| string                | Sim         | Tipo de transportadora: `"API"` ou `"TABELA"`.                            |

> Estrutura simplificada do `DTOJson`:

```json
{
  "pedido": {
    "numero": "1234",
    "peso": 10,
    "cubagem": 0.05,
    "quantidade": 2,
    "valorTotal": 200.00,
    "embalagem": "Caixa",
    "produtos": [
      {
        "id": "produto-01",
        "descricao": "Produto X",
        "quantidade": 1,
        "peso": 5,
        "altura": 10,
        "comprimento": 15,
        "largura": 20
      }
    ]
  },
  "remetente": {
    "cep": "01001-000",
    "cnpj": "12345678000199",
    "nome": "Empresa Remetente"
  },
  "destinatario": {
    "cep": "02001-000",
    "documento": "12345678900",
    "nome": "Cliente Exemplo",
    "telefone": "11999999999",
    "prazoCliente": 5,
    "freteCliente": 30.00,
    "endereco": {
      "cep": "02001-000",
      "logradouro": "Rua Exemplo",
      "numero": "123",
      "bairro": "Bairro X",
      "cidade": "São Paulo",
      "uf": "SP",
      "ibge": "3550308",
      "complemento": "Apto 101"
    }
  }
}
```